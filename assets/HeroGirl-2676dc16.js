import{r as n,O as E,u as M,a as R,b as L,c as w,j as s,L as A,V as T,R as O,d as p,P as F,g as P,M as u}from"./index-2a7eddc5.js";const B=({...y})=>{const o=n.useRef(),i=n.useRef(new E),[d,k]=n.useState(window.innerWidth>992),{camera:j,gl:v}=M(),{nodes:t,materials:r,animations:x}=R(P),{actions:c}=L(x,o);n.useEffect(()=>{const e=()=>{Object.values(c).forEach(m=>{m&&m.stop()});const a=c.wave;a?(a.reset().play().setLoop(A),a.clampWhenFinished=!0,setTimeout(e,1e4)):console.warn('Action "wave" not found in actions:',c)};return e(),()=>clearTimeout()},[c]),n.useEffect(()=>{const e=()=>{k(window.innerWidth>992)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const h=e=>{if(d){const{clientX:a,clientY:m}=e,l=v.domElement.getBoundingClientRect(),b=new T((a-l.left)/l.width*2-1,-((m-l.top)/l.height)*2+1),g=new O;g.setFromCamera(b,j);const f=new p;g.ray.intersectPlane(new F().setFromNormalAndCoplanarPoint(new p(0,0,1),i.current.position),f),i.current.position.copy(f)}else i.current.position.set(-1,1,5)};return n.useEffect(()=>(window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)),[d]),w(()=>{if(o.current){const e=o.current.getObjectByName("mixamorigHead");e&&(d?e.lookAt(i.current.position):e.rotation.set(u.degToRad(-20),u.degToRad(-8),u.degToRad(0)))}}),w(()=>{if(o.current){const e=o.current.getObjectByName("mixamorigHead");e&&e.scale.set(.8,.8,.8)}}),s.jsx("group",{ref:o,...y,dispose:null,children:s.jsx("group",{name:"Scene",children:s.jsxs("group",{name:"Armature",rotation:[Math.PI/2,0,0],scale:.01,children:[s.jsx("skinnedMesh",{name:"body",geometry:t.body.geometry,material:r["skin color"],skeleton:t.body.skeleton}),s.jsx("skinnedMesh",{name:"hair_base",geometry:t.hair_base.geometry,material:r["hair color"],skeleton:t.hair_base.skeleton}),s.jsx("skinnedMesh",{name:"shirt",geometry:t.shirt.geometry,material:r["shirt color"],skeleton:t.shirt.skeleton}),s.jsx("skinnedMesh",{name:"shoes",geometry:t.shoes.geometry,material:r["light hair color "],skeleton:t.shoes.skeleton}),s.jsx("skinnedMesh",{name:"trouser",geometry:t.trouser.geometry,material:r["trouser color"],skeleton:t.trouser.skeleton}),s.jsx("primitive",{object:t.mixamorigHips})]})})})};export{B as default};
//# sourceMappingURL=HeroGirl-2676dc16.js.map
