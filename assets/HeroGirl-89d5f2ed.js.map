{"version":3,"file":"HeroGirl-89d5f2ed.js","sources":["../../src/models/HeroGirl.jsx"],"sourcesContent":["/*\r\nAuto-generated by: https://github.com/pmndrs/gltfjsx and edited\r\nAuthor: Thinu Harini\r\nTitle: Girl\r\n*/\r\n\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport { useFrame, useThree } from '@react-three/fiber';\r\nimport { useAnimations, useGLTF } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\n\r\nimport girlScene from '../assets/3d/girl.glb';\r\n\r\nconst HeroGirlModel = ({ ...props }) => {\r\n  const girlRef = useRef();\r\n  const target = useRef(new THREE.Object3D());\r\n  const [isLargeScreen, setIsLargeScreen] = useState(window.innerWidth > 992);\r\n\r\n  // Access the camera and GL renderer from react-three-fiber\r\n  const { camera, gl } = useThree();\r\n\r\n  const { nodes, materials, animations } = useGLTF(girlScene);\r\n  const { actions } = useAnimations(animations, girlRef);\r\n\r\n  useEffect(() => {\r\n    const startWaveAnimation = () => {\r\n      Object.values(actions).forEach((action) => {\r\n        if (action) {\r\n          action.stop();\r\n        }\r\n      });\r\n\r\n      const waveAction = actions['wave'];\r\n      if (waveAction) {\r\n        waveAction.reset().play().setLoop(THREE.LoopOnce); // Set 'wave' animation to loop once\r\n        waveAction.clampWhenFinished = true;\r\n\r\n        setTimeout(startWaveAnimation, 10000); // Schedule the next wave animation after 30 seconds\r\n      } else {\r\n        console.warn('Action \"wave\" not found in actions:', actions);\r\n      }\r\n    };\r\n\r\n    // Start the initial wave animation\r\n    startWaveAnimation();\r\n\r\n    // Clean up the timeout on component unmount\r\n    return () => clearTimeout();\r\n  }, [actions]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsLargeScreen(window.innerWidth > 992);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  const handleMouseMove = (event) => {\r\n    if (isLargeScreen) {\r\n      const { clientX, clientY } = event;\r\n\r\n      const canvasBounds = gl.domElement.getBoundingClientRect();\r\n      const mouse = new THREE.Vector2(\r\n        ((clientX - canvasBounds.left) / canvasBounds.width) * 2 - 1,\r\n        -((clientY - canvasBounds.top) / canvasBounds.height) * 2 + 1\r\n      );\r\n\r\n      const raycaster = new THREE.Raycaster();\r\n      raycaster.setFromCamera(mouse, camera);\r\n\r\n      const intersection = new THREE.Vector3();\r\n      raycaster.ray.intersectPlane(new THREE.Plane().setFromNormalAndCoplanarPoint(new THREE.Vector3(0, 0, 1), target.current.position), intersection);\r\n\r\n      target.current.position.copy(intersection);\r\n    } else {\r\n      // For smaller screens, set the head to a fixed position\r\n      target.current.position.set(-1, 1, 5);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    return () => window.removeEventListener('mousemove', handleMouseMove);\r\n  }, [isLargeScreen]);\r\n\r\n  useFrame(() => {\r\n    if (girlRef.current) {\r\n      const head = girlRef.current.getObjectByName('mixamorigHead');\r\n      if (head) {\r\n        if (isLargeScreen) {\r\n          head.lookAt(target.current.position);\r\n        } else {\r\n          // Set fixed rotation for smaller screens\r\n          head.rotation.set(\r\n            THREE.MathUtils.degToRad(-20),\r\n            THREE.MathUtils.degToRad(-8),\r\n            THREE.MathUtils.degToRad(0)\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  //scaling the head\r\n  useFrame(() => {\r\n    if (girlRef.current) {\r\n      const head = girlRef.current.getObjectByName('mixamorigHead');\r\n      if (head) {\r\n        head.scale.set(0.8, 0.8, 0.8);\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <group ref={girlRef} {...props} dispose={null}>\r\n      <group name=\"Scene\">\r\n        <group name=\"Armature\" rotation={[Math.PI / 2, 0, 0]} scale={0.01}>\r\n          <skinnedMesh\r\n            name=\"body\"\r\n            geometry={nodes.body.geometry}\r\n            material={materials['skin color']}\r\n            skeleton={nodes.body.skeleton}\r\n          />\r\n          <skinnedMesh\r\n            name=\"hair_base\"\r\n            geometry={nodes.hair_base.geometry}\r\n            material={materials['hair color']}\r\n            skeleton={nodes.hair_base.skeleton}\r\n          />\r\n          <skinnedMesh\r\n            name=\"shirt\"\r\n            geometry={nodes.shirt.geometry}\r\n            material={materials['shirt color']}\r\n            skeleton={nodes.shirt.skeleton}\r\n          />\r\n          <skinnedMesh\r\n            name=\"shoes\"\r\n            geometry={nodes.shoes.geometry}\r\n            material={materials['light hair color ']}\r\n            skeleton={nodes.shoes.skeleton}\r\n          />\r\n          <skinnedMesh\r\n            name=\"trouser\"\r\n            geometry={nodes.trouser.geometry}\r\n            material={materials['trouser color']}\r\n            skeleton={nodes.trouser.skeleton}\r\n          />\r\n          <primitive object={nodes.mixamorigHips} />\r\n        </group>\r\n      </group>\r\n    </group>\r\n  );\r\n};\r\n\r\nexport default HeroGirlModel; "],"names":["HeroGirlModel","props","girlRef","useRef","target","THREE.Object3D","isLargeScreen","setIsLargeScreen","useState","camera","gl","useThree","nodes","materials","animations","useGLTF","girlScene","actions","useAnimations","useEffect","startWaveAnimation","action","waveAction","THREE.LoopOnce","handleResize","handleMouseMove","event","clientX","clientY","canvasBounds","mouse","THREE.Vector2","raycaster","THREE.Raycaster","intersection","THREE.Vector3","THREE.Plane","useFrame","head","THREE.MathUtils","jsx"],"mappings":"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"}